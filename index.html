<!DOCTYPE html>
<html dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta content="#000" name="theme-color">
    <meta content="width=device-width" name="viewport">
    <meta content="Provides a set of key strokes to generate responses like in a typical XML source code editor." name="description">
    <title>Text Editor Source XML 2.0.1</title>
    <link href="../layout/index.min.css" rel="stylesheet">
    <style>
      mark {
        border-left: 1px solid #f00;
        border-right: 1px solid #f00;
      }

      mark:empty {
        border-right-width: 0;
      }
    </style>
  </head>
  <body>
    <header>
      <h1><a href="../text-editor/index.html">&laquo;</a> Text Editor Source XML 2.0.1</h1>
      <p><abbr title="Extensible Markup Language">XML</abbr> source extension for <a href="../text-editor/index.html">Text Editor</a>. This extension provides a set of key strokes to generate responses like in a typical <abbr title="Extensible Markup Language">XML</abbr> source code editor.</p>
      <hr>
    </header>
    <main>
      <p><label><input checked onchange="return editor[this.checked ? 'attach' : 'detach'](), false;" type="checkbox"> <span>Enable <abbr title="Extensible Markup Language">XML</abbr> Source Editor</span></label></p>
      <p><textarea placeholder="Code goes here&hellip;" spellcheck="false" style="display:block;width:100%;"></textarea></p>
      <p role="group"><select style="flex:1;">
          <option disabled selected>Test&hellip;</option>
          <optgroup label="insert">
            <option value="editor.insertComment('asdf')">insertComment('asdf')</option>
            <option value="editor.insertComment('asdf', 0)">insertComment('asdf', 0)</option>
            <option value="editor.insertComment('asdf', 1)">insertComment('asdf', 1)</option>
            <option value="editor.insertData('asdf')">insertData('asdf')</option>
            <option value="editor.insertData('asdf', 0)">insertData('asdf', 0)</option>
            <option value="editor.insertData('asdf', 1)">insertData('asdf', 1)</option>
            <option value="editor.insertElement('&lt;time&gt;&lt;/time&gt;')">insertElement('&lt;time&gt;&lt;/time&gt;')</option>
            <option value="editor.insertElement('&lt;time&gt;&lt;/time&gt;', 0)">insertElement('&lt;time&gt;&lt;/time&gt;', 0)</option>
            <option value="editor.insertElement('&lt;time&gt;&lt;/time&gt;', 1)">insertElement('&lt;time&gt;&lt;/time&gt;', 1)</option>
            <option value="editor.insertElement(['time', (new Date).toLocaleString('en'), {datetime: (new Date).toISOString()}])">insertElement(['time', date.toLocaleString('en'), {datetime: date.toISOString()}])</option>
            <option value="editor.insertElement(['time', (new Date).toLocaleString('en'), {datetime: (new Date).toISOString()}], 0)">insertElement(['time', date.toLocaleString('en'), {datetime: date.toISOString()}], 0)</option>
            <option value="editor.insertElement(['time', (new Date).toLocaleString('en'), {datetime: (new Date).toISOString()}], 1)">insertElement(['time', date.toLocaleString('en'), {datetime: date.toISOString()}], 1)</option>
            <option value="editor.insertInstruction('asdf')">insertInstruction('asdf')</option>
            <option value="editor.insertInstruction('asdf', 0)">insertInstruction('asdf', 0)</option>
            <option value="editor.insertInstruction('asdf', 1)">insertInstruction('asdf', 1)</option>
            <option value="editor.insertInstruction(' ob_start(); ', -1, true, 'php')">insertInstruction(' ob_start(); ', -1, true, 'php')</option>
            <option value="editor.insertInstruction(' $content = ob_get_contents(); ', 0, true, 'php')">insertInstruction(' $content = ob_get_contents(); ', 0, true, 'php')</option>
            <option value="editor.insertInstruction(' ob_end_clean(); ', 1, true, 'php')">insertInstruction(' ob_end_clean(); ', 1, true, 'php')</option>
          </optgroup>
          <optgroup label="peel">
            <option value="editor.peelComment()">peelComment()</option>
            <option value="editor.peelComment(true)">peelComment(true)</option>
            <option value="editor.peelData()">peelData()</option>
            <option value="editor.peelData(true)">peelData(true)</option>
            <option value="editor.peelElement('&lt;time&gt;', '&lt;/time&gt;')">peelElement('&lt;time&gt;', '&lt;/time&gt;')</option>
            <option value="editor.peelElement('&lt;time&gt;', '&lt;/time&gt;', true)">peelElement('&lt;time&gt;', '&lt;/time&gt;', true)</option>
            <option value="editor.peelElement(['time'])">peelElement(['time'])</option>
            <option value="editor.peelElement(['time'], true)">peelElement(['time'], true)</option>
            <option value="editor.peelInstruction()">peelInstruction()</option>
            <option value="editor.peelInstruction(true)">peelInstruction(true)</option>
          </optgroup>
          <optgroup label="select">
            <option value="editor.selectComment()">selectComment()</option>
            <option value="editor.selectComment(true)">selectComment(true)</option>
            <option value="editor.selectData()">selectData()</option>
            <option value="editor.selectData(true)">selectData(true)</option>
            <option disabled value="editor.selectElement()">selectElement()</option>
            <option value="editor.selectInstruction()">selectInstruction()</option>
            <option value="editor.selectInstruction(true)">selectInstruction(true)</option>
          </optgroup>
          <optgroup label="toggle"></optgroup>
          <optgroup label="wrap"></optgroup>
        </select><button onclick="return eval(this.previousElementSibling.value), false;">Execute</button></p>
      <h2>Strokes</h2>
      <ul>
        <li><code>&lt;!--<mark></mark>--&gt;</code> or <code>&lt;!--&nbsp;<mark></mark>&nbsp;--&gt;</code> then press <kbd>Enter</kbd>.</li>
        <li><code>&lt;!--<mark></mark>--&gt;</code> then press <kbd>&nbsp;</kbd> (Space).</li>
        <li><code>&lt;!--<mark></mark></code> or <code>&lt;!--<mark></mark>--&gt;</code> then press <kbd>Backspace</kbd>.</li>
        <li><code>&lt;!--asdf--&gt;<mark></mark></code> then press <kbd>ArrowLeft</kbd>.</li>
        <li><code>&lt;!--asdf--&gt;<mark></mark></code> then press <kbd>Backspace</kbd>.</li>
        <li><code>&lt;!-<mark></mark></code> or <code>&lt;!-<mark></mark>&gt;</code> then press <kbd>-</kbd>.</li>
        <li><code>&lt;/div&gt;<mark></mark></code> then press <kbd>ArrowLeft</kbd>.</li>
        <li><code>&lt;/div&gt;<mark></mark></code> then press <kbd>Backspace</kbd>.</li>
        <li><code>&lt;<mark></mark></code> or <code>&lt;<mark></mark>&gt;</code> then press <kbd>?</kbd>.</li>
        <li><code>&lt;?<mark></mark></code> or <code>&lt;?<mark></mark>?&gt;</code> then press <kbd>Backspace</kbd>.</li>
        <li><code>&lt;?asdf?&gt;<mark></mark></code> then press <kbd>ArrowLeft</kbd>.</li>
        <li><code>&lt;?asdf?&gt;<mark></mark></code> then press <kbd>Backspace</kbd>.</li>
        <li><code>&lt;?xml<mark></mark>?&gt;</code> then press <kbd>Enter</kbd>.</li>
        <li><code>&lt;div /&gt;<mark></mark></code> then press <kbd>ArrowLeft</kbd>.</li>
        <li><code>&lt;div /&gt;<mark></mark></code> then press <kbd>Backspace</kbd>.</li>
        <li><code>&lt;div&gt;<mark></mark>&lt;/div&gt;</code> then press <kbd>Backspace</kbd>.</li>
        <li><code>&lt;div&gt;<mark></mark>&lt;/div&gt;</code> then press <kbd>Enter</kbd>.</li>
        <li><code>&lt;div&gt;<mark></mark></code> then press <kbd>ArrowLeft</kbd>.</li>
        <li><code>&lt;div&gt;<mark></mark></code> then press <kbd>Backspace</kbd>.</li>
        <li><code>&lt;div&gt;<mark></mark></code> then press <kbd>Enter</kbd>.</li>
        <li><code>&lt;div/&gt;<mark></mark></code> then press <kbd>ArrowLeft</kbd>.</li>
        <li><code>&lt;div/&gt;<mark></mark></code> then press <kbd>Backspace</kbd>.</li>
        <li><code>&lt;div<mark></mark></code> or <code>&lt;div<mark></mark>&gt;</code> then press <kbd>&gt;</kbd>.</li>
        <li><code>&lt;div<mark></mark></code> or <code>&lt;div<mark></mark>&gt;</code> then press <kbd>/</kbd>.</li>
        <li><code><mark></mark>&lt;!--asdf--&gt;</code> then press <kbd>ArrowRight</kbd>.</li>
        <li><code><mark></mark>&lt;!--asdf--&gt;</code> then press <kbd>Delete</kbd>.</li>
        <li><code><mark></mark>&lt;/div&gt;</code> then press <kbd>ArrowRight</kbd>.</li>
        <li><code><mark></mark>&lt;/div&gt;</code> then press <kbd>Delete</kbd>.</li>
        <li><code><mark></mark>&lt;?asdf?&gt;</code> then press <kbd>ArrowRight</kbd>.</li>
        <li><code><mark></mark>&lt;?asdf?&gt;</code> then press <kbd>Delete</kbd>.</li>
        <li><code><mark></mark>&lt;div&gt;</code> then press <kbd>ArrowRight</kbd>.</li>
        <li><code><mark></mark>&lt;div&gt;</code> then press <kbd>Delete</kbd>.</li>
        <li><code><mark></mark>&lt;div/&gt;</code> then press <kbd>ArrowRight</kbd>.</li>
        <li><code><mark></mark>&lt;div/&gt;</code> then press <kbd>Delete</kbd>.</li>
        <li><code><mark></mark>--&gt;</code> then press <kbd>Delete</kbd>.</li>
        <li><code><mark></mark>?&gt;</code> then press <kbd>Delete</kbd>.</li>
      </ul>
      <h2>Usage</h2>
      <h3>Browser</h3>
      <pre><code>&lt;script src="<a href="../text-editor/index.min.js" target="_blank">./text-editor/index.min.js</a>"&gt;&lt;/script&gt;
&lt;script src="<a href="../text-editor.history/index.min.js" target="_blank">./text-editor.history/index.min.js</a>"&gt;&lt;/script&gt;
&lt;script src="<a href="../text-editor.key/index.min.js" target="_blank">./text-editor.key/index.min.js</a>"&gt;&lt;/script&gt;
&lt;script src="<a href="../text-editor.source/index.min.js" target="_blank">./text-editor.source/index.min.js</a>"&gt;&lt;/script&gt;
&lt;script src="<a href="index.min.js" target="_blank">./text-editor.source-x-m-l/index.min.js</a>"&gt;&lt;/script&gt;
&lt;script&gt;

  const editor = new TextEditor(document.querySelector('textarea'), {
      commands: {
          pull: function () {
              return this.pull().record(), false;
          },
          push: function () {
              return this.push().record(), false;
          },
          redo: function () {
              return this.redo(), false;
          },
          undo: function () {
              return this.undo(), false;
          }
      },
      keys: {
          'Control-[': 'pull',
          'Control-]': 'push',
          'Control-y': 'redo',
          'Control-z': 'undo'
      },
      tab: 2,
      // Be sure to put `TextEditor.SourceXML` before `TextEditor.Source`
      with: [TextEditor.History, TextEditor.Key, TextEditor.SourceXML, TextEditor.Source]
  });

&lt;/script&gt;</code></pre>
      <h3>CommonJS</h3>
      <pre><code>const TextEditor = require('@taufik-nurrohman/text-editor').default;
const TextEditorHistory = require('@taufik-nurrohman/text-editor.history').default;
const TextEditorKey = require('@taufik-nurrohman/text-editor.key').default;
const TextEditorSource = require('@taufik-nurrohman/text-editor.source').default;
const TextEditorSourceXML = require('@taufik-nurrohman/text-editor.source-x-m-l').default;

const editor = new TextEditor(document.querySelector('textarea'), {
    commands: {
        pull: function () {
            return this.pull().record(), false;
        },
        push: function () {
            return this.push().record(), false;
        },
        redo: function () {
            return this.redo(), false;
        },
        undo: function () {
            return this.undo(), false;
        }
    },
    keys: {
        'Control-[': 'pull',
        'Control-]': 'push',
        'Control-y': 'redo',
        'Control-z': 'undo'
    },
    tab: 2,
    // Be sure to put `TextEditorSourceXML` before `TextEditorSource`
    with: [TextEditorHistory, TextEditorKey, TextEditorSourceXML, TextEditorSource]
});</code></pre>
      <h3>ECMAScript</h3>
      <pre><code>import TextEditor from '@taufik-nurrohman/text-editor';
import TextEditorHistory from '@taufik-nurrohman/text-editor.history';
import TextEditorKey from '@taufik-nurrohman/text-editor.key';
import TextEditorSource from '@taufik-nurrohman/text-editor.source';
import TextEditorSourceXML from '@taufik-nurrohman/text-editor.source-x-m-l';

const editor = new TextEditor(document.querySelector('textarea'), {
    commands: {
        pull: function () {
            return this.pull().record(), false;
        },
        push: function () {
            return this.push().record(), false;
        },
        redo: function () {
            return this.redo(), false;
        },
        undo: function () {
            return this.undo(), false;
        }
    },
    keys: {
        'Control-[': 'pull',
        'Control-]': 'push',
        'Control-y': 'redo',
        'Control-z': 'undo'
    },
    tab: 2,
    // Be sure to put `TextEditorSourceXML` before `TextEditorSource`
    with: [TextEditorHistory, TextEditorKey, TextEditorSourceXML, TextEditorSource]
});</code></pre>
      <h2>Methods</h2>
      <h3>Instance Methods</h3>
      <h4><code>editor.insertComment(value, mode = -1, clear = true)</code></h4>
      <p>Insert an <abbr title="Extensible Markup Language">XML</abbr> comment.</p>
      <pre><code>editor.insertComment('asdf'); // Delete selection and insert comment before caret
editor.insertComment('asdf', 0); // Replace selection with comment
editor.insertComment('asdf', +1); // Delete selection and insert comment after caret</code></pre>
      <h4><code>editor.insertData(value, mode = -1, clear = true)</code></h4>
      <p>Insert an <abbr title="Extensible Markup Language">XML</abbr> character data section.</p>
      <pre><code>editor.insertData('asdf'); // Delete selection and insert character data section before caret
editor.insertData('asdf', 0); // Replace selection with character data section
editor.insertData('asdf', +1); // Delete selection and insert character data section after caret</code></pre>
      <h4><code>editor.insertElement(value, mode = -1, clear = true)</code></h4>
      <h4><code>editor.insertElement(of, mode = -1, clear = true)</code></h4>
      <p>Insert an <abbr title="Extensible Markup Language">XML</abbr> element.</p>
      <pre><code>editor.insertElement('&lt;input type="text" /&gt;'); // Delete selection and insert element before caret
editor.insertElement('&lt;input type="text" /&gt;', 0); // Replace selection with element
editor.insertElement('&lt;input type="text" /&gt;', +1); // Delete selection and insert element after caret</code></pre>
      <pre><code>editor.insertElement(['input', false, {type: 'text'}]); // Delete selection and insert element before caret
editor.insertElement(['input', false, {type: 'text'}], 0); // Replace selection with element
editor.insertElement(['input', false, {type: 'text'}], +1); // Delete selection and insert element after caret</code></pre>
      <h4><code>editor.peelComment(wrap = false)</code></h4>
      <p>Unwrap current selection from an <abbr title="Extensible Markup Language">XML</abbr> comment.</p>
      <pre><code>editor.peelComment();</code></pre>
      <h4><code>editor.peelData(wrap = false)</code></h4>
      <p>Unwrap current selection from an <abbr title="Extensible Markup Language">XML</abbr> character data section.</p>
      <pre><code>editor.peelData();</code></pre>
      <h4><code>editor.peelElement(open, close, wrap = false)</code></h4>
      <h4><code>editor.peelElement(of, wrap = false)</code></h4>
      <p>Unwrap current selection from an <abbr title="Extensible Markup Language">XML</abbr> element.</p>
      <pre><code>editor.peelElement('&lt;b&gt;', '&lt;/b&gt;');
editor.peelElement(['b']);</code></pre>
      <h4><code>editor.selectComment(wrap = false)</code></h4>
      <h4><code>editor.selectData(wrap = false)</code></h4>
      <h4><code>editor.selectElement(wrap = false)</code></h4>
      <h4><code>editor.selectInstruction(wrap = false)</code></h4>
      <h4><code>editor.toggleComment(wrap = false)</code></h4>
      <p>Toggle wrap and peel selection of an <abbr title="Extensible Markup Language">XML</abbr> comment.</p>
      <pre><code>editor.toggleComment();</code></pre>
      <h4><code>editor.toggleData(wrap = false)</code></h4>
      <p>Toggle wrap and peel selection of an <abbr title="Extensible Markup Language">XML</abbr> character data.</p>
      <pre><code>editor.toggleData();</code></pre>
      <h4><code>editor.toggleElement(open, close, wrap = false)</code></h4>
      <h4><code>editor.toggleElement(of, wrap = false)</code></h4>
      <p>Toggle wrap and peel selection of an <abbr title="Extensible Markup Language">XML</abbr> element.</p>
      <pre><code>editor.toggleElement('&lt;b&gt;', '&lt;/b&gt;');
editor.toggleElement(['b']);</code></pre>
      <h4><code>editor.wrapComment(wrap = false)</code></h4>
      <p>Wrap current selection with an <abbr title="Extensible Markup Language">XML</abbr> comment.</p>
      <pre><code>editor.wrapComment();</code></pre>
      <h4><code>editor.wrapData(wrap = false)</code></h4>
      <p>Wrap current selection with an <abbr title="Extensible Markup Language">XML</abbr> character data.</p>
      <pre><code>editor.wrapData();</code></pre>
      <h4><code>editor.wrapElement(open, close, wrap = false)</code></h4>
      <h4><code>editor.wrapElement(of, wrap = false)</code></h4>
      <p>Wrap current selection with an <abbr title="Extensible Markup Language">XML</abbr> element.</p>
      <pre><code>editor.wrapElement('&lt;b&gt;', '&lt;/b&gt;');
editor.wrapElement(['b']);</code></pre>
    </main>
    <footer>
      <hr>
      <p>&copy; 2024 <a href="/">Taufik Nurrohman</a></p>
    </footer>
    <script src="../key/index.min.js"></script>
    <script src="../text-editor/index.min.js"></script>
    <script src="../text-editor.history/index.min.js"></script>
    <script src="../text-editor.key/index.min.js"></script>
    <script src="../text-editor.source/index.min.js"></script>
    <script src="index.min.js"></script>
    <script>
      const editor = new TextEditor(document.querySelector('textarea'), {
          commands: {
              pull: function () {
                  return this.pull().record(), false;
              },
              push: function () {
                  return this.push().record(), false;
              },
              redo: function () {
                  return this.redo(), false;
              },
              undo: function () {
                  return this.undo(), false;
              }
          },
          keys: {
              'Control-[': 'pull',
              'Control-]': 'push',
              'Control-y': 'redo',
              'Control-z': 'undo'
          },
          tab: 2,
          with: [TextEditor.History, TextEditor.Key, TextEditor.SourceXML, TextEditor.Source]
      });
    </script>
  </body>
</html>